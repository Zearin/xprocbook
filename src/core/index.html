<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Standard XProc Steps</title><style type="text/css">div.epigraph          { margin-left: 0.5in;
                        margin-right: 0.5in;
                      }

div.attribution       { margin-left: 50%;
                      }

div.admonition        { margin-left: 0.5in;
                        margin-right: 0.5in;
                        border: solid thin #aaaaaa;
                      }

div.admonition h3     { margin-top: 0px;
                        margin-bottom: 0px;
                        padding-top: 4px;
                        padding-left: 5px;
                        font-weight: medium;
                        background-color: #dddddd;
                      }

div.admonition p      { padding-left: 5px;
                      }

span.admon-graphic    { padding-right: 5px;
                        vertical-align: middle;
                      }

div.admon-title-text  { font-size: x-large;
                        font-weight: bold;
                      }

div.admon-text        { padding-top: 0px;
                        margin-top: 0px;
                      }

div.admon-text &gt; p:first-child { padding-top: 0px;
                                 margin-top: 0px;
                               }

div.section           { margin-left: 0.25in;
                      }
div.section-titlepage { margin-left: -0.25in;
                      }

span.linenumber       { padding-right: 10px;
                        border-right: 1px solid black;
                      }

span.linenumber-separator {
                        padding-right: 0px;
                      }

div.address           { white-space: pre }
div.literallayout     { white-space: pre }
span.linenumber       { white-space: pre;
                        font-family: monospace;
                      }
span.linenumber-separator { white-space: pre; }

div.footnote p { margin-top: 0px;
                 padding-top: 1px;
                 margin-bottom: 0px;
                 padding-bottom: 1px;
               }

div.title { font-weight: bold; }

div.float-right    { float: right; }
div.float-left     { float: left; }

div.figure-wrapper { padding: 0px;
                     border-color: #CACACA;
                     border-width: 1px;
                     border-style: solid;
                   }

div.figure         { padding-left: 3px;
                     padding-right: 3px;
                     padding-top: 5px;
                     padding-bottom: 5px;
                   }

div.informalfigure-wrapper { padding: 0px;
                     border-color: #CACACA;
                     border-width: 1px;
                     border-style: solid;
                   }

div.informalfigure { padding-left: 3px;
                     padding-right: 3px;
                     padding-top: 5px;
                     padding-bottom: 5px;
                   }

div.table-wrapper  { padding: 0px;
                     border-color: #CACACA;
                     border-width: 1px;
                     border-style: solid;
                   }

div.table          { padding-left: 3px;
                     padding-right: 3px;
                     padding-top: 5px;
                     padding-bottom: 5px;
                   }

/*
div.informaltable-wrapper { padding: 0px;
                     border-color: #CACACA;
                     border-width: 1px;
                     border-style: solid;
                   }
*/

div.informaltable  { padding-left: 3px;
                     padding-right: 3px;
                     padding-top: 5px;
                     padding-bottom: 5px;
                   }

div.equation-wrapper
div.title          { background-color: #CACACA;
                     padding: 3px;
                   }

div.example-wrapper
div.title          { background-color: #CACACA;
                     padding: 3px;
                   }
div.figure-wrapper
div.title          { background-color: #CACACA;
                     padding: 3px;
                   }

div.caption        { margin-left: 5%;
                     margin-right: 5%;
                     font-family: sans-serif;
                   }

div.longdesc-link  { position: absolute;
                     right: 10px;
                     font-size: small;
                   }

.revision-added    { background-color: #FFFF99; }

.revision-deleted  { text-decoration: line-through;
                     background-color: #FF9999;
                   }
.revision-changed  { background-color: #99FF99; }

.revision-inherited { border-left-style: solid;
                      border-left-width: 1px;
                      border-left-color: #303030;
                      padding-left: 10px;
                    }

div.synopfragment  { margin-bottom: 1em;
                   }

div.cmdsynopsis    { margin-bottom: 1em;
                   }

body.draft         { background-image: url("http://docbook.sf.net/release/images/draft.png");
                   }

em.strikethrough   { text-decoration: line-through;
                     font-style: normal;
                   }

em.underline       { text-decoration: underline;
                     font-style: normal;
                   }

em                 { font-style: italic; }

em em              { font-style: normal; }

em em em           { font-style: italic; }

em em em em        { font-style: normal; }

em em em em em     { font-style: italic; }

div.remark         { padding: 10px;
                     border: solid #afafaf 1px;
                     margin-left: 35px;
                     margin-right: 70px;
                     margin-bottom: 1ex;
                   }


div.sidebar        { border: solid #afafaf 1px;
                     margin-left: 35px;
                     margin-right: 70px;
                     margin-bottom: 1ex;
                   }

div.sidebar
div.title          { background-color: #CACACA;
                     padding: 3px;
                   }

div.sidebar-content { padding: 10px;
                    }

div.annotation     { border: solid #afafaf 1px;
                     margin-left: 35px;
                     margin-right: 70px;
                     margin-top: 1ex;
                     margin-bottom: 1ex;
                   }

div.annotation
div.title          { background-color: #CACACA;
                     padding: 3px;
                   }

div.annotation-content { padding: 10px;
                    }
</style><style type="text/css">p.element-syntax                    { padding: 4px; }
p.element-syntax-declare-step       { border: solid thin; background-color: #ffeeff }
p.element-syntax-error-vocabulary   { border: solid thin; background-color: #ffffee }
p.element-syntax-language-construct { border: solid thin; background-color: #ffeeff }
p.element-syntax-language-example   { border: solid thin; background-color: #ffeeff }
p.element-syntax-other-step         { border: solid thin; background-color: #ffeeff }
p.element-syntax-step-vocabulary    { border: solid thin; background-color: #ffffee }

thead tr th {
  background-color: #333333;
  color: white;
}

h1,h2,h3,h4,h5,h6,
.toc p {
  font-family: sans-serif;
}

h2 .refname tt {
  font-family: sans-serif;
}

.programlisting, .screen {
  padding-top: 0px;
  padding-bottom: 0px;
  border: solid thin #ccddcc;
  background-color: #eeffee;
}

.programlisting pre, .screen pre {
  padding-top: 0px;
  padding-bottom: 0px;
  margin-top: 0px;
  margin-bottom: 0px;
}

span.linenumber {
  background-color: #ccddcc;
}

.admonition {
  padding: 10px;
  border: solid thin #ccdddcc;
}

.admonition h3 {
  font-size: normal;
}

span.diff, div.diff {
  background-color: #ffffaa;
}

span.add, div.add {
  background-color: #aaffaa;
}

span.orig, div.orig {
  background-color: #ffffaa;
}

span.del, div.del {
  background-color: #ffaaaa;
  text-decoration: line-through;
}

div.line {
  font-family: monospace;
  white-space: pre;
}

table.pipelineexample {
  margin-top: "0.5em;"
}

/* Pretty printing */

.atteq {
}

.attq {
}

.colon {
}

.mso {
}

.msc {
}

.nsdecl,
.nsdecl .tag-attribute,
.nsdecl .tag-attvalue {
  color: #AAAAAA;
}

.pcdata {
  color: #44AA44;
}

pre .tag-attribute {
}

pre .tag-attvalue {
}

pre .tag-element {
}

pre .tag-localname {
}

pre .tag-prefix {
}

/* /Pretty printing */</style></head><body><div class="reference" x="1" id="fileutils"><div class="reference-titlepage"><h1>Standard XProc Steps</h1></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="refentrytitle"><a href="#p.http-request"><tt class="step">p:http-request</tt></a></span><span class="refpurpose"> - Interact with other systems over HTTP</span></dt></dl></div><div class="refentry" id="p.http-request"><div class="refnamediv"><h2><span class="refname"><tt class="step">p:http-request</tt></span></h2><p><span class="refname"><tt class="step">p:http-request</tt></span> — Interact with other systems over HTTP.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><p class="element-syntax element-syntax-declare-step"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:http-request</code><code>"</code><code>&gt;</code></span><br/>     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code>/&gt;</code></span><br/>     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">byte-order-mark</code><code>"</code><code>/&gt;</code><code>                            </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">cdata-section-elements</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">''</code><code>"</code><code>/&gt;</code><code>         </code><code class="comment">&lt;!-- </code><span class="opt-type">ListOfQNames</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">doctype-public</code><code>"</code><code>/&gt;</code><code>                             </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">doctype-system</code><code>"</code><code>/&gt;</code><code>                             </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">encoding</code><code>"</code><code>/&gt;</code><code>                                   </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">escape-uri-attributes</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'false'</code><code>"</code><code>/&gt;</code><code>     </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">include-content-type</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>       </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">indent</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'false'</code><code>"</code><code>/&gt;</code><code>                    </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">media-type</code><code>"</code><code>/&gt;</code><code>                                 </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">method</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'xml'</code><code>"</code><code>/&gt;</code><code>                      </code><code class="comment">&lt;!-- </code><span class="opt-type">QName</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">normalization-form</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'none'</code><code>"</code><code>/&gt;</code><code>         </code><code class="comment">&lt;!-- </code><span class="opt-type">NormalizationForm</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">omit-xml-declaration</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>       </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">standalone</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'omit'</code><code>"</code><code>/&gt;</code><code>                 </code><code class="comment">&lt;!-- </code><span class="opt-type">"true" | "false" | "omit"</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">undeclare-prefixes</code><code>"</code><code>/&gt;</code><code>                         </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br/>     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">version</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'1.0'</code><code>"</code><code>/&gt;</code><code>                     </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br/><code>&lt;/p:declare-step&gt;</code></p></div><div class="refsection"><div class="refsection-titlepage"><h3>Description</h3></div>


<p>The <tt class="code">p:http-request</tt> step allows you to interact with
other systems over HTTP. You describe the interaction that you want to have
with the system in the form of a <tt class="tag-element">c:request</tt> document sent to the
<tt class="port">source</tt> input port. The response that comes back from the
system is returned in the <tt class="port">result</tt> port. The step provides
a lot of flexibility in how the response is presented.</p>

<p>This step is actually quite complicated because it attempts to
provide a uniform interface to all of the possible HTTP methods, with
and without authentication, and to handle sending and receiving both
single and multipart message bodies that may or may not be
XML.</p>

<p>Don't let the all of the possible complexity persuade you into thinking
that it has to be complex. Here's a simple example that retrieves the
XProc specification from the W3C website:</p>

<div class="programlisting"><pre><span class="linenumber">  1</span><span class="linenumber-separator"> </span>  &lt;p:http-request&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>    &lt;p:input port="source"&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>      &lt;p:inline&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>        &lt;c:request method="GET"
<span class="linenumber">  5</span><span class="linenumber-separator"> </span>                   href="http://www.w3.org/TR/xproc/langspec.xml"/&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>      &lt;/p:inline&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>    &lt;/p:input&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  &lt;/p:http-request&gt;
</pre></div>

<p>If most of your web interactions are simple HTTP “GET” requests, it
may be useful to write a wrapper that provides direct support for those
simple cases. In the examples below, you'll find a <tt class="step">cx:http-get</tt>
pipeline that simplifies the above example to a single line:</p>

<div class="programlisting"><pre>&lt;cx:http-get href="http://www.w3.org/TR/xproc/langspec.xml"/&gt;
</pre></div>

<p>Now let's look at the step in all it's generality. Everything begins
with the request. A <tt class="tag-element">c:request</tt> element has the following form:</p>

<div class="programlisting"><pre><span class="linenumber">  1</span><span class="linenumber-separator"> </span>&lt;c:request
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  method = NCName
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  href? = anyURI
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  username? = string
<span class="linenumber">  5</span><span class="linenumber-separator"> </span>  password? = string
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  auth-method? = string
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  send-authorization? = boolean
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  override-content-type? = string
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  detailed? = boolean
<span class="linenumber"> 10</span><span class="linenumber-separator"> </span>  status-only? = boolean&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>    (c:header*, (c:body | c:multipart)?)
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;/c:request&gt;
</pre></div>

<p>The <tt class="tag-attribute">method</tt> attribute must be one of the HTTP methods
(one of the methods supported by the system with which you're
interacting). The <tt class="tag-attribute">href</tt> attribute identifies the URI that you want to
interact with. The <tt class="tag-attribute">username</tt>, <tt class="tag-attribute">password</tt>,
<tt class="tag-attribute">auth-method</tt>, and <tt class="tag-attribute">send-authorization</tt> attributes
control authentication, see <a href="#http-auth" title="HTTP Authentication">the section called “HTTP Authentication”</a>, below. The
<tt class="tag-attribute">override-content-type</tt> attribute allows you to change the
interpretation of the result; the <tt class="tag-attribute">detailed</tt> and
<tt class="tag-attribute">status-only</tt> attributes control how much detail is exposed
in the result, see <a href="#c.request_response" title="Interpreting the response">the section called “Interpreting the response”</a>, also below.</p>

<p>The content of the <tt class="tag-element">c:request</tt> consists of any number
of <tt class="tag-element">c:header</tt> elements, followed optionally by a
<tt class="tag-element">c:body</tt> or a <tt class="tag-element">c:multipart</tt>.
</p>

<p>A <tt class="tag-element">c:header</tt> element allows you to send additional HTTP
headers with the request:</p>

<div class="programlisting"><pre><span class="linenumber">  1</span><span class="linenumber-separator"> </span>&lt;c:header
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  name = string
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  value = string /&gt;
</pre></div>

<p>The <tt class="tag-attribute">name</tt> and <tt class="tag-attribute">value</tt> attributes specify the name
and value of the header, respectively. As we'll see below, the
<tt class="tag-element">c:header</tt> element is also used to present the headers that
the server sends back.</p>

<p>If you're doing an HTTP “GET”, then you don't send any content to the
server, but for HTTP “POST” or “PUT” requests (among others), data is sent
to the server using a <tt class="tag-element">c:body</tt> or <tt class="tag-element">c:multipart</tt>
elements.</p>

<p>The HTTP request is formulated from the elements in the request
and transmitted to the host specified by the <tt class="code">href</tt>
attribute.</p>

<div class="refsection" id="c.request_body"><div class="refsection-titlepage"><h4>Formulating the request</h4></div>


<p>The <tt class="tag-element">c:body</tt> element holds the body (or in the case of
a <a href="#multipart-requests">multipart message</a>, each of the
body parts) of the message:</p>

<div class="programlisting"><pre><span class="linenumber">  1</span><span class="linenumber-separator"> </span>&lt;c:body
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  content-type = string
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  encoding? = string
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  id? = string
<span class="linenumber">  5</span><span class="linenumber-separator"> </span>  description? = string&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>    <em>any content</em>
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;/c:body&gt;
</pre></div>

<p>The <tt class="code">content-type</tt> attribute specifies the media type
of the body or body part, for example, “<tt class="literal">application/xml</tt>”
“<tt class="literal">text/plain</tt>”, or “<tt class="literal">image/png</tt>”. In
HTTP terms, this is the value used for the
<tt class="literal"><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.17">Content-Type</a></tt>
header. The <tt class="tag-attribute">encoding</tt> is used for images and other non-text types, see
<a href="#binary-types" title="Binary content">the section called “Binary content”</a>, below.</p>

<p>In some applications, usually multipart requests, it may be useful or
necessary to specify a
<tt class="literal"><a href="http://www.apps.ietf.org/rfc/rfC1521.html#sec-6.1">Content-ID</a></tt>
or
<tt class="literal"><a href="http://www.apps.ietf.org/rfc/rfc1521.html#sec-6.2">Content-Description</a></tt> in the request. You can specify these values with the
<tt class="tag-attribute">id</tt> and <tt class="tag-attribute">description</tt> attributes, respectively.</p>

<p>After establishing the headers for a request body, the processor
has to actually package it up for transmission to the server. Exactly
how this packaging is done depends on the <tt class="tag-attribute">content-type</tt>
specified.</p>

<div class="itemizedlist"><ul><li><p>If the content type specifies an XML media type, then the body
is serialized using the options specified on the
<tt class="step">p:http-request</tt> and the resulting serialized form is sent
to the server. In other words, if the body is XML, the processor does
what you'd expect to send the XML over the wire.</p></li><li><p>If the content type does not specify an XML media type, or if an
<tt class="tag-attribute">encoding</tt> is specified, then the content of the <tt class="tag-element">c:body</tt>
element is sent directly. In this case, you must have constructed the
<tt class="tag-element">c:body</tt> so that it contains exactly, and only, the characters
that you want sent. In other words, you have to encode it before you
put it in the <tt class="tag-element">c:body</tt> element.</p></li></ul></div>

<div class="refsection" id="multipart-requests"><div class="refsection-titlepage"><h5>Multipart requests</h5></div>


<p>Sometimes you want to send more than a single document to the server.
Some systems address this by specifying a specific packaging system, such
as sending a single ZIP file containing all the parts, but other systems
use “<a href="http://www.apps.ietf.org/rfc/rfc1521.html#sec-7.2">multipart
MIME</a>” for the packaging.
In <tt class="step">p:http-request</tt> this is supported through the use
of the <tt class="tag-element">c:multipart</tt> element:</p>

<div class="programlisting"><pre><span class="linenumber">  1</span><span class="linenumber-separator"> </span>&lt;c:multipart
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  content-type = string
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  boundary = string&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>    c:body+
<span class="linenumber">  5</span><span class="linenumber-separator"> </span>&lt;/c:multipart&gt;
</pre></div>

<p>The <tt class="tag-attribute">content-type</tt> specified must be a multipart media
type. If it's not specified, a value of
“<tt class="literal">multipart/mixed</tt>” is used.</p>

<p>In the request sent to the server, all of the parts are sent in
a single stream. The boundaries between each part are identified with
a boundary string. It's your responsibility to specify the
<tt class="tag-attribute">boundary</tt> string and it's critically important that you
specify a value that <em>will not</em> occur in the
(possibly encoded) representations of any of the parts.</p>

<p>Each individual <tt class="tag-element">c:body</tt> part is handled as described
above.</p>
</div>
</div>

<div class="refsection" id="c.request_response"><div class="refsection-titlepage"><h4>Interpreting the response</h4></div>


<p>How the processor interprets the part (or parts) that are
returned depends critically on the value of the content type header
that the server sends. A content type of
“<tt class="literal">application/xml</tt>” is naturally going to be
processed quite differently than a content type of
“<tt class="literal">image/png</tt>”. If the <tt class="tag-element">c:request</tt> specifies
an <tt class="tag-attribute">override-content-type</tt>, then that value is used to
determine how the part (or parts) are interpreted. Even if an override
is specified, however, the actual content type sent by the server will
be presented in the <tt class="tag-element">c:header</tt>, if there is one.</p>

<p>In the discussion below, “content type” refers to the content
type that the processor is using, either the one the server sent or
the one the request specified, as appropriate.</p>

<p>If you make an HTTP request, your presumably expecting some sort
of response. Sometimes you need to be able check the status code,
inspect the headers, interrogate the relationships between the parts,
etc.</p>

<p>In this case, you want the response to include all of the detail
that it can. The XProc processor provides this in the form of a
<tt class="tag-element">c:response</tt> element:</p>

<div class="programlisting"><pre><span class="linenumber">  1</span><span class="linenumber-separator"> </span>&lt;c:response
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  status? = integer&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>    (c:header*, (c:body | c:multipart)?)
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;/c:response&gt;
</pre></div>

<p>The response's status code is encoded in the <tt class="code">status</tt>
attribute and the headers and entity body are returned in
<tt class="tag-element">c:header</tt> and <tt class="tag-element">c:multipart</tt> or <tt class="tag-element">c:body</tt>
content.</p>

<p>But often, you know that you're going to get back, for example,
a single XML document. If you expect the step to succeed and you just
want the document back, it's tedious to have to remember to unpack it
from inside the <tt class="tag-element">c:response</tt> wrapper every time. To alleviate
this tedium, the <tt class="tag-element">c:request</tt> allows you to specify whether or
not you want a “detailed” response:</p>

<div class="itemizedlist"><ul><li><p>If <tt class="tag-attribute">detailed</tt> is “<tt class="literal">true</tt>”, you get
back a <tt class="tag-element">c:response</tt> element containing all the headers and
the body or bodies.</p></li><li><p>If <tt class="tag-attribute">detailed</tt> is not specified or is explicitly
“<tt class="literal">false</tt>”, the body (or each of the bodies) is
converted into an XML representation and returned.</p></li></ul></div>

<p>In other words, you can get all the detail if you want, but the
default is just to return the document (or sequence of documents) that
the server sends back in its response.</p>

<p>The output of a <tt class="step">p:http-request</tt> must be XML, so the
body (or each of the bodies) has to be converted into an XML
representation. For media types (images, binaries, etc.) that can't be
represented as a sequence of Unicode characters, the response is
<tt class="literal">base64</tt> encoded and then returned in a
<tt class="tag-element">c:body</tt> element. If the content is base64-encoded, the
<tt class="tag-attribute">encoding</tt> attribute on <tt class="tag-element">c:body</tt> will
be set to “<tt class="literal">base64</tt>”.</p>

<p>If the media type isn't XML but can be represented as a sequence
of Unicode characters, the content of the
<tt class="tag-element">c:body</tt> element will be those characters. In this case,
there will be no <tt class="tag-attribute">encoding</tt> attribute on the <tt class="tag-element">c:body</tt>.</p>

<p>If the response is an XML media type, the content of the
constructed <tt class="tag-element">c:body</tt> element is the result of decoding the
body as necessary, then parsing it with an XML parser. If the content
is not well-formed, the step fails.</p>

<p>In the case of a multipart response, the same rules apply when
constructing a <tt class="tag-element">c:body</tt> element for each body part
encountered.</p>

<p>There's one more special case. If the <tt class="tag-attribute">status-only</tt>
attribute on the <tt class="tag-element">c:request</tt> is “<tt class="literal">true</tt>”,
the result document will always be a <tt class="tag-element">c:response</tt> containing
only header information. The response will not be processed to produce
a <tt class="tag-element">c:body</tt> or <tt class="tag-element">c:multipart</tt> element at all.</p>
</div>

<div class="refsection" id="http-auth"><div class="refsection-titlepage"><h4>HTTP Authentication</h4></div>


<p>Several attributes on the <tt class="tag-element">c:request</tt> control if
and how authentication is performed.</p>

<p>If the <tt class="tag-attribute">username</tt> attribute is specified, the
<tt class="tag-attribute">username</tt>, <tt class="tag-attribute">password</tt>,
<tt class="tag-attribute">auth-method</tt>, and <tt class="tag-attribute">send-authorization</tt>
attributes are used to handle authentication according to the selected
authentication method.</p>

<p>The <tt class="tag-attribute">username</tt> and <tt class="tag-attribute">password</tt> specify the
authentication credentials of the user. The <tt class="tag-attribute">auth-method</tt>
specifies the expected authentication method. If the
authentication method is “<tt class="literal">Basic</tt>” or
“<tt class="literal">Digest</tt>”, authentication is handled as per
<span class="formatting-error">???</span>. Other values are allowed, but their
meaning is <em class="glossterm">implementation-defined</em>.</p>

<p>Authentication generally requires several messages sent back and forth
between the client and the server. The client requests access, the server
responds with a challenge, the client replies with appropriate credentials,
and then the server sends back the actual response. If you're using
basic authentication, you can avoid one round trip by setting
<tt class="tag-attribute">send-authentication</tt> to “<tt class="literal">true</tt>”. If you do,
the credentials are sent on the first request. This only works for
basic authentication, however, because other methods require information
from the challenge to construct the credentials.</p>
</div>

<div class="refsection" id="other-protocols"><div class="refsection-titlepage"><h4>Supporting other protocols</h4></div>


<p>In the case of simple “GET” requests, implementors are
encouraged to support as many protocols as practical. In particular,
pipeline authors may attempt to use <tt class="tag-element">p:http-request</tt> to load
documents with computed URIs using the <tt class="literal">file:</tt>
scheme.</p>

</div>

<div class="refsection" id="binary-types"><div class="refsection-titlepage"><h4>Binary content</h4></div>


<p>Several steps use “base64” encoding to transmit binary data
through an XProc pipeline. The <tt class="tag-attribute">encoding</tt> attribute controls
the decoding of the element content for formulating the request.</p>

<p>A value of “<tt class="literal">base64</tt>” indicates the element's
content is a base64 encoded string whose byte stream should be sent as
the message body. An implementation may support encodings other than
<tt class="literal">base64</tt> but these encodings and their names are
<em class="glossterm">implementation-defined</em>.</p>
</div>

<div class="refsection" id="cookies"><div class="refsection-titlepage"><h4>Cookies</h4></div>


<p>With one exception, in version 1.0 of XProc, the
<tt class="tag-element">p:http-request</tt> step does not provide any standard
mechanisms for managing cookies. Pipeline authors that need to
preserve cookies across several <tt class="tag-element">p:http-request</tt> calls in the
same pipeline or across multiple invocations of the same or different
pipelines will have to rely on
<em class="glossterm">implementation-defined</em> mechanisms.
</p>

<p>The exception arises in the case of redirection. If a redirect
response includes cookies, those cookies are forwarded as appropriate
to the redirected location when the redirection is followed.</p>

<p>This behavior allows the <tt class="tag-element">p:http-request</tt> step to
interoperate with web services that use cookies as part of an
authentication protocol.</p>
</div>

<div class="refsection" id="html"><div class="refsection-titlepage"><h4>HTML content</h4></div>


<p>HTML isn't always (in fact, rarely is) well-formed XML. But it
can be represented in Unicode, so by the rules in <a href="#c.request_response" title="Interpreting the response">the section called “Interpreting the response”</a>, any content identified as
<tt class="code">text/html</tt> will be encoded as (escaped) text or
base64-encoded in the <tt class="tag-element">c:body</tt> element.
</p>

<p>If you want to treat the HTML content as XML, you can attempt to
convert it into XML using the <tt class="tag-element">p:unescape-markup</tt>
step.</p>
</div>
</div><div class="refsection"><div class="refsection-titlepage"><h3>Errors</h3></div>

<div class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col width="14.29%"/><col width="85.71%"/></colgroup><thead><tr><th style="border-right: 0.5pt solid ; ">Error</th><th style="">Description</th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><a name="err.inline.C0040"/><code>err:C0040</code></td><td style="border-bottom: 0.5pt solid ; ">Occurs
if the document element of the document that arrives on the
<tt class="port">source</tt> port is not <tt class="tag-element">c:request</tt>.
</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><a name="err.inline.C0006"/><code>err:C0006</code></td><td style="border-bottom: 0.5pt solid ; ">Occurs
if the
<tt class="tag-attribute">method</tt> is not specified on a <tt class="tag-element">c:request</tt>.

</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><a name="err.inline.C0005"/><code>err:C0005</code></td><td style="border-bottom: 0.5pt solid ; ">Occurs
if the
request contains a <tt class="tag-element">c:body</tt> or <tt class="tag-element">c:multipart</tt> but the
<tt class="tag-attribute">method</tt> does not allow for an entity body being sent with the request.
</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><a name="err.inline.C0004"/><code>err:C0004</code></td><td style="border-bottom: 0.5pt solid ; ">Occurs
if the
<tt class="code">status-only</tt> attribute has the value <tt class="literal">true</tt> and
the <tt class="code">detailed</tt> attribute does not have the value <tt class="literal">true</tt>.
</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><a name="err.inline.C0003"/><code>err:C0003</code></td><td style="border-bottom: 0.5pt solid ; ">Occurs
if a <tt class="option">username</tt>
or <tt class="option">password</tt> is specified without specifying an
<tt class="option">auth-method</tt>, if
the requested
<tt class="option">auth-method</tt> isn't supported, or the authentication
challenge contains an authentication method that isn't
supported.
</td></tr><tr><td style="border-right: 0.5pt solid ; "><a name="err.inline.C0020"/><code>err:C0020</code></td><td style="">Occurs
if the the user specifies a value
or values that are inconsistent with each other or with the requirements
of the step or protocol.
</td></tr></tbody></table></div></div>
</div><div class="refsection"><div class="refsection-titlepage"><h3>Examples</h3></div>


<p>Most of the examples in this section interact with small web services
hosted at <a href="http://tests.xproc.org/">http://tests.xproc.org/</a>. These services were
designed to help test various aspects of the <tt class="step">p:http-request</tt> step.
As such, they tend to be small and simple, if not particularly useful.</p>

<p>This example does a simple “get”.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-xml</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span><span class="pcdata">Sample document</span><span class="mso">&lt;/</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">Hello world!</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example does a “post”. The web service always returns the
same fixed RDF.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-rdf</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">any-content/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">rdf</tt><span class="colon">:</span><tt class="tag-localname">RDF</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:rdf</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/1999/02/22-rdf-syntax-ns#</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">         </span><span class="nsdecl"><tt class="tag-attribute">xmlns:dc</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://purl.org/dc/elements/1.1/</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">rdf</tt><span class="colon">:</span><tt class="tag-localname">Description</tt><span class="pcdata"> </span><tt class="tag-attribute">rdf:about</tt><span class="atteq">=</span><span class="attq">"</span><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">dc</tt><span class="colon">:</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span><span class="pcdata">Hello world!</span><span class="mso">&lt;/</span><tt class="tag-prefix">dc</tt><span class="colon">:</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">rdf</tt><span class="colon">:</span><tt class="tag-localname">Description</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">rdf</tt><span class="colon">:</span><tt class="tag-localname">RDF</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example is like the previous, except that the web service
returns plain text.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-text</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">any-content/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/plain; charset=#34utf-8#34</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata">Hello world!</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example also does a “post”, but it gets back binary.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-binary</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">any-content/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">string-replace</tt><span class="pcdata"> </span><tt class="tag-attribute">match</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">/c:body/text()</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                    </span><tt class="tag-attribute">replace</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">'… base64-binary-content-elided …'</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">image/png</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><tt class="tag-attribute">encoding</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">base64</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata">… base64-binary-content-elided …</span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example shows a <tt class="tag-element">c:multipart</tt> result.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-multipart</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">string-replace</tt><span class="pcdata"> </span><tt class="tag-attribute">match="c:body[@encoding</tt><span class="atteq">=</span><span class="attq">'</span><tt class="tag-attvalue">base64</tt><span class="attq">'</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">                    </span><tt class="tag-attribute">replace</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">'… base64-binary-content-elided …'</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">multipart</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">             </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">multipart/related; boundary=#34=-=-=-=-=#34</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">             </span><tt class="tag-attribute">boundary</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">=-=-=-=-=</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>html xmlns='http://www.w3.org/1999/xhtml'<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>title<tt class="tag-genentity">&amp;gt;</tt>Hello world!<tt class="tag-genentity">&amp;lt;</tt>/title<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>h1<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>img src='helloworld.png' alt='Hello World!' /<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>/h1<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>This is a hello world document.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/html<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span><span class="pcdata">… base64-binary-content-elided …</span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">multipart</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example posts to an “echo” service that just sends back whatever
it receives.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">wrap-sequence</tt><span class="pcdata"> </span><tt class="tag-attribute">wrapper</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">c:body</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">add-attribute</tt><span class="pcdata"> </span><tt class="tag-attribute">match</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">/c:body</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">attribute-name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">content-type</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">attribute-value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">wrap-sequence</tt><span class="pcdata"> </span><tt class="tag-attribute">wrapper</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">c:request</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">set-attributes</tt><span class="pcdata"> </span><tt class="tag-attribute">match</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">/c:request</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">attributes</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-localname">dummy</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/echo</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">               </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">set-attributes</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Input</th><th>→</th><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is what gets sent.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td><td valign="middle"><span class="arrow"> </span></td><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is what gets sent.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>As you can see, we use other XProc steps to build up the request
wrapper for <tt class="step">p:http-request</tt>.</p><p>Here's an alternative way to construct the
<tt class="step">c:request</tt> document:</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">insert</tt><span class="pcdata"> </span><tt class="tag-attribute">match</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">/c:request/c:body</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">position</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">first-child</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/echo</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">insert</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Input</th><th>→</th><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is what gets sent.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td><td valign="middle"><span class="arrow"> </span></td><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is what gets sent.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>Here we attempt and fail to connect to a password-protected
web service.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/docs/basic-auth</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=#34iso-8859-1#34</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>html<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>title<tt class="tag-genentity">&amp;gt;</tt>401 Authorization Required<tt class="tag-genentity">&amp;lt;</tt>/title<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/head<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>h1<tt class="tag-genentity">&amp;gt;</tt>Authorization Required<tt class="tag-genentity">&amp;lt;</tt>/h1<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>This server could not verify that you</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">are authorized to access the document</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">requested.  Either you supplied the wrong</span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">credentials (e.g., bad password), or your</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">browser doesn't understand how to supply</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">the credentials required.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>Additionally, a 404 Not Found</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">error was encountered while trying to use an ErrorDocument to handle the request.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/body<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>/html<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>Unfortunately, the results aren't very useful. By specifying
<tt class="tag-attribute">detailed</tt>, we can get more information:</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/docs/basic-auth</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">detailed</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">true</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">status</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">401</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Date</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Mon, 05 Apr 2010 10:56:48 GMT</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Server</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Apache</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">WWW-Authenticate</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Basic realm=#34TestAuthentication#34</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Vary</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Accept-Encoding</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Length</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">520</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Type</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=iso-8859-1</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=#34iso-8859-1#34</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>html<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>title<tt class="tag-genentity">&amp;gt;</tt>401 Authorization Required<tt class="tag-genentity">&amp;lt;</tt>/title<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/head<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>h1<tt class="tag-genentity">&amp;gt;</tt>Authorization Required<tt class="tag-genentity">&amp;lt;</tt>/h1<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>This server could not verify that you</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">are authorized to access the document</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">requested.  Either you supplied the wrong</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">credentials (e.g., bad password), or your</span></span></div><div class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="pcdata">browser doesn't understand how to supply</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">the credentials required.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>Additionally, a 404 Not Found</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">error was encountered while trying to use an ErrorDocument to handle the request.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/body<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>/html<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 25</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>Now at least we can see the status code.</p><p>This example does a simple “get”.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-xml</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span><span class="pcdata">Sample document</span><span class="mso">&lt;/</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">Hello world!</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>If you want simply to test whether or not you can access a resource,
specifying both <tt class="tag-attribute">detailed</tt> and <tt class="tag-attribute">status-only</tt> simplifies things
even further.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/docs/basic-auth</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">detailed</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">true</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">status-only</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">true</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">status</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">401</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Date</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Mon, 05 Apr 2010 10:56:51 GMT</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Server</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Apache</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">WWW-Authenticate</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Basic realm=#34TestAuthentication#34</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Vary</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Accept-Encoding</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Length</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">520</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Type</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=iso-8859-1</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>Finally, let's send the correct <tt class="tag-attribute">username</tt> and
<tt class="tag-attribute">password</tt> so that we can actually get the resource!</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/docs/basic-auth</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">detailed</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">true</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">auth-method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Basic</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">username</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">testuser</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">password</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">testpassword</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">status</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">200</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Date</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Mon, 05 Apr 2010 10:56:54 GMT</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Server</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Apache</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Accept-Ranges</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">bytes</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Vary</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Accept-Encoding</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Length</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">174</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Type</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=utf-8</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=#34utf-8#34</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>html xmlns='http://www.w3.org/1999/xhtml'<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>title<tt class="tag-genentity">&amp;gt;</tt>Basic authentication test<tt class="tag-genentity">&amp;lt;</tt>/title<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>h1<tt class="tag-genentity">&amp;gt;</tt>Basic authentication test<tt class="tag-genentity">&amp;lt;</tt>/h1<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>Success!<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/html<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>If you run the preceding example with some sort of “web sniffer”
enabled, you'll see that the XProc processor and the server perform a little
dance:</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>XProc requests the page,</p></li><li><p>the web server declines, asserting authentication is required</p></li><li><p>XProc tries again, sending the credentials</p></li><li><p>the web server sends back the representation.</p></li></ol></div><p>By adding <tt class="code"><tt class="tag-attribute">send-authorization</tt>="<tt class="literal">true</tt>"</tt>,
you can reduce the dance by two steps: the XProc processor will send the
credentials initially and the web server will respond with the representation.
</p><p>This only works for basic authentication. If you use basic
authentication you really <em>should</em> use <tt class="uri">https:</tt> as passwords are otherwise sent
unencrypted, visible to anyone with the aforementioned “web
sniffer”.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/docs/basic-auth</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">detailed</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">true</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">auth-method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Basic</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">username</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">testuser</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">password</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">testpassword</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">send-authorization</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">true</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">status</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">200</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Date</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Mon, 05 Apr 2010 10:56:57 GMT</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Server</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Apache</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Accept-Ranges</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">bytes</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Vary</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Accept-Encoding</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Length</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">174</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Type</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=utf-8</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=#34utf-8#34</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>html xmlns='http://www.w3.org/1999/xhtml'<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>title<tt class="tag-genentity">&amp;gt;</tt>Basic authentication test<tt class="tag-genentity">&amp;lt;</tt>/title<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>h1<tt class="tag-genentity">&amp;gt;</tt>Basic authentication test<tt class="tag-genentity">&amp;lt;</tt>/h1<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>Success!<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/html<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>The <tt class="tag-attribute">detailed</tt> and <tt class="tag-attribute">status-only</tt> attributes aren't
just for authentication. You can use them for unprotected resources as well.
Here's an example that uses <tt class="tag-attribute">detailed</tt> on an ordinary resource.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/docs/helloworld.xml</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">detailed</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">true</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">status</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">200</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Date</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Mon, 05 Apr 2010 10:57:00 GMT</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Server</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Apache</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Last-Modified</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Wed, 03 Mar 2010 22:02:44 GMT</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">ETag</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">#3476a08e-ce-a44d2900#34</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Accept-Ranges</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">bytes</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Length</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">206</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Type</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-localname">html</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/1999/xhtml</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-localname">head</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span><span class="pcdata">Hello world!</span><span class="mso">&lt;/</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-localname">head</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-localname">h1</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-localname">img</tt><span class="pcdata"> </span><tt class="tag-attribute">src</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">helloworld.png</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">alt</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Hello World!</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-localname">h1</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is a hello world document.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-localname">html</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>Without <tt class="code"><tt class="tag-attribute">detailed</tt>="<tt class="literal">true</tt>"</tt>,
you just get back the resource:</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/docs/helloworld.xml</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">detailed</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">true</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">status</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">200</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Date</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Mon, 05 Apr 2010 10:57:03 GMT</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Server</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Apache</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Last-Modified</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Wed, 03 Mar 2010 22:02:44 GMT</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">ETag</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">#3476a08e-ce-a44d2900#34</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Accept-Ranges</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">bytes</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Length</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">206</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Type</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-localname">html</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/1999/xhtml</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-localname">head</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span><span class="pcdata">Hello world!</span><span class="mso">&lt;/</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-localname">head</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-localname">h1</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-localname">img</tt><span class="pcdata"> </span><tt class="tag-attribute">src</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">helloworld.png</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">alt</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Hello World!</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-localname">h1</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is a hello world document.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-localname">html</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example does a “post”. The web service always returns the
same fixed RDF.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-rdf</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">any-content/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">rdf</tt><span class="colon">:</span><tt class="tag-localname">RDF</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:rdf</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/1999/02/22-rdf-syntax-ns#</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">         </span><span class="nsdecl"><tt class="tag-attribute">xmlns:dc</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://purl.org/dc/elements/1.1/</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">rdf</tt><span class="colon">:</span><tt class="tag-localname">Description</tt><span class="pcdata"> </span><tt class="tag-attribute">rdf:about</tt><span class="atteq">=</span><span class="attq">"</span><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">dc</tt><span class="colon">:</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span><span class="pcdata">Hello world!</span><span class="mso">&lt;/</span><tt class="tag-prefix">dc</tt><span class="colon">:</span><tt class="tag-localname">title</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">rdf</tt><span class="colon">:</span><tt class="tag-localname">Description</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">rdf</tt><span class="colon">:</span><tt class="tag-localname">RDF</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example is like the previous, except that the web service
returns plain text.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-text</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">any-content/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/plain; charset=#34utf-8#34</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata">Hello world!</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example also does a “post”, but it gets back binary.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-binary</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">any-content/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">string-replace</tt><span class="pcdata"> </span><tt class="tag-attribute">match</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">/c:body/text()</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                    </span><tt class="tag-attribute">replace</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">'… base64-binary-content-elided …'</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">image/png</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><tt class="tag-attribute">encoding</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">base64</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata">… base64-binary-content-elided …</span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example shows a <tt class="tag-element">c:multipart</tt> result.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/fixed-multipart</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">string-replace</tt><span class="pcdata"> </span><tt class="tag-attribute">match="c:body[@encoding</tt><span class="atteq">=</span><span class="attq">'</span><tt class="tag-attvalue">base64</tt><span class="attq">'</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">                    </span><tt class="tag-attribute">replace</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">'… base64-binary-content-elided …'</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">multipart</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">             </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">multipart/related; boundary=#34=-=-=-=-=#34</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">             </span><tt class="tag-attribute">boundary</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">=-=-=-=-=</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>html xmlns='http://www.w3.org/1999/xhtml'<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>title<tt class="tag-genentity">&amp;gt;</tt>Hello world!<tt class="tag-genentity">&amp;lt;</tt>/title<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>h1<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>img src='helloworld.png' alt='Hello World!' /<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>/h1<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>This is a hello world document.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/html<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span><span class="pcdata">… base64-binary-content-elided …</span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">multipart</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>This example posts to an “echo” service that just sends back whatever
it receives.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">wrap-sequence</tt><span class="pcdata"> </span><tt class="tag-attribute">wrapper</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">c:body</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">add-attribute</tt><span class="pcdata"> </span><tt class="tag-attribute">match</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">/c:body</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">attribute-name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">content-type</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">attribute-value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">wrap-sequence</tt><span class="pcdata"> </span><tt class="tag-attribute">wrapper</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">c:request</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">set-attributes</tt><span class="pcdata"> </span><tt class="tag-attribute">match</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">/c:request</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">attributes</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-localname">dummy</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/echo</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">               </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">set-attributes</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Input</th><th>→</th><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is what gets sent.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td><td valign="middle"><span class="arrow"> </span></td><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is what gets sent.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>As you can see, we use other XProc steps to build up the request
wrapper for <tt class="step">p:http-request</tt>.</p><p>Here's an alternative way to construct the
<tt class="step">c:request</tt> document:</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">insert</tt><span class="pcdata"> </span><tt class="tag-attribute">match</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">/c:request/c:body</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">position</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">first-child</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/service/echo</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">post</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">          </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">application/xml</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">insert</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request/</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Input</th><th>→</th><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is what gets sent.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td><td valign="middle"><span class="arrow"> </span></td><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-localname">doc</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span><span class="pcdata">This is what gets sent.</span><span class="mso">&lt;/</span><tt class="tag-localname">p</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-localname">doc</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>Here we attempt and fail to connect to a password-protected
web service.</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/docs/basic-auth</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=#34iso-8859-1#34</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>html<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>title<tt class="tag-genentity">&amp;gt;</tt>401 Authorization Required<tt class="tag-genentity">&amp;lt;</tt>/title<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/head<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>h1<tt class="tag-genentity">&amp;gt;</tt>Authorization Required<tt class="tag-genentity">&amp;lt;</tt>/h1<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>This server could not verify that you</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">are authorized to access the document</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">requested.  Either you supplied the wrong</span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">credentials (e.g., bad password), or your</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">browser doesn't understand how to supply</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">the credentials required.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>Additionally, a 404 Not Found</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">error was encountered while trying to use an ErrorDocument to handle the request.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/body<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>/html<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div></div></td></tr></table><p>Unfortunately, the results aren't very useful. By specifying
<tt class="tag-attribute">detailed</tt>, we can get more information:</p><div class="programlisting"><pre>
<span class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:p</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">version</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">1.0</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span/></span>
<span class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="pcdata"> </span><tt class="tag-attribute">port</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">source</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">        </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">request</tt><span class="pcdata"> </span><tt class="tag-attribute">href</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://tests.xproc.org/docs/basic-auth</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">method</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">get</tt><span class="attq">"</span></span></span>
<span class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">                   </span><tt class="tag-attribute">detailed</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">true</tt><span class="attq">"</span><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">      </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">inline</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">    </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">input</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">http-request</tt><span class="msc">&gt;</span></span></span>
<span class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">p</tt><span class="colon">:</span><tt class="tag-localname">pipeline</tt><span class="msc">&gt;</span></span></span>
</pre></div><table class="pipelineexample" cellspacing="0" cellpadding="0"><tr><th>Output</th></tr><tr><td valign="top"><div class="programlisting"><div class="line"><span class="linenumber">  1</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="pcdata"> </span><span class="nsdecl"><tt class="tag-attribute">xmlns:c</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">http://www.w3.org/ns/xproc-step</tt><span class="attq">"</span></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">status</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">401</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Date</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Mon, 05 Apr 2010 10:38:51 GMT</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Server</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Apache</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">  5</span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">WWW-Authenticate</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Basic realm=#34TestAuthentication#34</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Vary</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Accept-Encoding</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Length</tt><span class="attq">"</span><span class="pcdata"> </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">520</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">header</tt><span class="pcdata"> </span><tt class="tag-attribute">name</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">Content-Type</tt><span class="attq">"</span></span></div><div class="line"><span class="linenumber"> 10</span><span class="linenumber-separator"> </span><span><span class="pcdata">            </span><tt class="tag-attribute">value</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=iso-8859-1</tt><span class="attq">"</span><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">  </span><span class="mso">&lt;</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="pcdata"> </span><tt class="tag-attribute">content-type</tt><span class="atteq">=</span><span class="attq">"</span><tt class="tag-attvalue">text/html; charset=#34iso-8859-1#34</tt><span class="attq">"</span><span class="msc">&gt;</span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>html<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>head<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>title<tt class="tag-genentity">&amp;gt;</tt>401 Authorization Required<tt class="tag-genentity">&amp;lt;</tt>/title<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/head<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>body<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 15</span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>h1<tt class="tag-genentity">&amp;gt;</tt>Authorization Required<tt class="tag-genentity">&amp;lt;</tt>/h1<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>This server could not verify that you</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">are authorized to access the document</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">requested.  Either you supplied the wrong</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">credentials (e.g., bad password), or your</span></span></div><div class="line"><span class="linenumber"> 20</span><span class="linenumber-separator"> </span><span><span class="pcdata">browser doesn't understand how to supply</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">the credentials required.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>p<tt class="tag-genentity">&amp;gt;</tt>Additionally, a 404 Not Found</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata">error was encountered while trying to use an ErrorDocument to handle the request.<tt class="tag-genentity">&amp;lt;</tt>/p<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="pcdata"><tt class="tag-genentity">&amp;lt;</tt>/body<tt class="tag-genentity">&amp;gt;</tt><tt class="tag-genentity">&amp;lt;</tt>/html<tt class="tag-genentity">&amp;gt;</tt></span></span></div><div class="line"><span class="linenumber"> 25</span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">body</tt><span class="msc">&gt;</span></span></div><div class="line"><span class="linenumber">   </span><span class="linenumber-separator"> </span><span><span class="mso">&lt;/</span><tt class="tag-prefix">c</tt><span class="colon">:</span><tt class="tag-localname">response</tt><span class="msc">&gt;</span></span></div></div></td></tr></table>

</div></div></div></body></html>